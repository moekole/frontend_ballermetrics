{"ast":null,"code":"import * as i0 from '@angular/core';\nimport { forwardRef, Component, ViewEncapsulation, ChangeDetectionStrategy, Inject, Input, EventEmitter, Output, ContentChildren, NgModule } from '@angular/core';\nimport { trigger, state, style, transition, animate } from '@angular/animations';\nimport * as i1 from '@angular/common';\nimport { CommonModule } from '@angular/common';\nimport { PrimeTemplate, SharedModule } from 'primeng/api';\nimport { Subject } from 'rxjs';\nconst _c0 = [\"pOrganizationChartNode\", \"\"];\nfunction OrganizationChartNode_tbody_0_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r1.node.label);\n  }\n}\nfunction OrganizationChartNode_tbody_0_div_5_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainer(0);\n  }\n}\nconst _c1 = function (a0) {\n  return {\n    $implicit: a0\n  };\n};\nfunction OrganizationChartNode_tbody_0_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, OrganizationChartNode_tbody_0_div_5_ng_container_1_Template, 1, 0, \"ng-container\", 7);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngTemplateOutlet\", ctx_r2.chart.getTemplateForNode(ctx_r2.node))(\"ngTemplateOutletContext\", i0.ɵɵpureFunction1(2, _c1, ctx_r2.node));\n  }\n}\nconst _c2 = function (a0, a1) {\n  return {\n    \"pi-chevron-down\": a0,\n    \"pi-chevron-up\": a1\n  };\n};\nfunction OrganizationChartNode_tbody_0_a_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"a\", 8);\n    i0.ɵɵlistener(\"click\", function OrganizationChartNode_tbody_0_a_6_Template_a_click_0_listener($event) {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r8 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r8.toggleNode($event, ctx_r8.node));\n    })(\"keydown.enter\", function OrganizationChartNode_tbody_0_a_6_Template_a_keydown_enter_0_listener($event) {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r10 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r10.toggleNode($event, ctx_r10.node));\n    });\n    i0.ɵɵelement(1, \"i\", 9);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction2(1, _c2, ctx_r3.node.expanded, !ctx_r3.node.expanded));\n  }\n}\nfunction OrganizationChartNode_tbody_0_ng_container_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"td\");\n    i0.ɵɵelement(2, \"div\", 4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵattribute(\"colspan\", ctx_r4.colspan);\n  }\n}\nconst _c3 = function (a0) {\n  return {\n    \"p-organizationchart-line-top\": a0\n  };\n};\nfunction OrganizationChartNode_tbody_0_ng_container_12_ng_template_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 11);\n    i0.ɵɵtext(1, \"\\xA0\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(2, \"td\", 12);\n    i0.ɵɵtext(3, \"\\xA0\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const first_r13 = ctx.first;\n    const last_r14 = ctx.last;\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(2, _c3, !first_r13));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(4, _c3, !last_r14));\n  }\n}\nfunction OrganizationChartNode_tbody_0_ng_container_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, OrganizationChartNode_tbody_0_ng_container_12_ng_template_1_Template, 4, 6, \"ng-template\", 10);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r5.node.children);\n  }\n}\nfunction OrganizationChartNode_tbody_0_td_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 13);\n    i0.ɵɵelement(1, \"table\", 14);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const child_r15 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"node\", child_r15);\n  }\n}\nconst _c4 = function (a1, a2) {\n  return {\n    \"p-organizationchart-node-content\": true,\n    \"p-organizationchart-selectable-node\": a1,\n    \"p-highlight\": a2\n  };\n};\nfunction OrganizationChartNode_tbody_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r17 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tbody\")(1, \"tr\")(2, \"td\")(3, \"div\", 1);\n    i0.ɵɵlistener(\"click\", function OrganizationChartNode_tbody_0_Template_div_click_3_listener($event) {\n      i0.ɵɵrestoreView(_r17);\n      const ctx_r16 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r16.onNodeClick($event, ctx_r16.node));\n    });\n    i0.ɵɵtemplate(4, OrganizationChartNode_tbody_0_div_4_Template, 2, 1, \"div\", 0);\n    i0.ɵɵtemplate(5, OrganizationChartNode_tbody_0_div_5_Template, 2, 4, \"div\", 0);\n    i0.ɵɵtemplate(6, OrganizationChartNode_tbody_0_a_6_Template, 2, 4, \"a\", 2);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(7, \"tr\", 3)(8, \"td\");\n    i0.ɵɵelement(9, \"div\", 4);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(10, \"tr\", 3);\n    i0.ɵɵtemplate(11, OrganizationChartNode_tbody_0_ng_container_11_Template, 3, 1, \"ng-container\", 0);\n    i0.ɵɵtemplate(12, OrganizationChartNode_tbody_0_ng_container_12_Template, 2, 1, \"ng-container\", 0);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"tr\", 5);\n    i0.ɵɵtemplate(14, OrganizationChartNode_tbody_0_td_14_Template, 2, 1, \"td\", 6);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵattribute(\"colspan\", ctx_r0.colspan);\n    i0.ɵɵadvance(1);\n    i0.ɵɵclassMap(ctx_r0.node.styleClass);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction2(17, _c4, ctx_r0.chart.selectionMode && ctx_r0.node.selectable !== false, ctx_r0.isSelected()));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r0.chart.getTemplateForNode(ctx_r0.node));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.chart.getTemplateForNode(ctx_r0.node));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r0.leaf);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngClass\", !ctx_r0.leaf && ctx_r0.node.expanded ? \"p-organizationchart-node-visible\" : \"p-organizationchart-node-hidden\")(\"@childState\", \"in\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵattribute(\"colspan\", ctx_r0.colspan);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngClass\", !ctx_r0.leaf && ctx_r0.node.expanded ? \"p-organizationchart-node-visible\" : \"p-organizationchart-node-hidden\")(\"@childState\", \"in\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.node.children && ctx_r0.node.children.length === 1);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.node.children && ctx_r0.node.children.length > 1);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngClass\", !ctx_r0.leaf && ctx_r0.node.expanded ? \"p-organizationchart-node-visible\" : \"p-organizationchart-node-hidden\")(\"@childState\", \"in\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.node.children);\n  }\n}\nfunction OrganizationChart_table_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"table\", 2);\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"node\", ctx_r0.root);\n  }\n}\nconst _c5 = function (a1) {\n  return {\n    \"p-organizationchart p-component\": true,\n    \"p-organizationchart-preservespace\": a1\n  };\n};\nlet OrganizationChartNode = /*#__PURE__*/(() => {\n  class OrganizationChartNode {\n    constructor(chart, cd) {\n      this.cd = cd;\n      this.chart = chart;\n      this.subscription = this.chart.selectionSource$.subscribe(() => {\n        this.cd.markForCheck();\n      });\n    }\n    get leaf() {\n      return this.node.leaf == false ? false : !(this.node.children && this.node.children.length);\n    }\n    get colspan() {\n      return this.node.children && this.node.children.length ? this.node.children.length * 2 : null;\n    }\n    onNodeClick(event, node) {\n      this.chart.onNodeClick(event, node);\n    }\n    toggleNode(event, node) {\n      node.expanded = !node.expanded;\n      if (node.expanded) this.chart.onNodeExpand.emit({\n        originalEvent: event,\n        node: this.node\n      });else this.chart.onNodeCollapse.emit({\n        originalEvent: event,\n        node: this.node\n      });\n      event.preventDefault();\n    }\n    isSelected() {\n      return this.chart.isSelected(this.node);\n    }\n    ngOnDestroy() {\n      this.subscription.unsubscribe();\n    }\n  }\n  OrganizationChartNode.ɵfac = function OrganizationChartNode_Factory(t) {\n    return new (t || OrganizationChartNode)(i0.ɵɵdirectiveInject(forwardRef(() => OrganizationChart)), i0.ɵɵdirectiveInject(i0.ChangeDetectorRef));\n  };\n  OrganizationChartNode.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: OrganizationChartNode,\n    selectors: [[\"\", \"pOrganizationChartNode\", \"\"]],\n    hostAttrs: [1, \"p-element\"],\n    inputs: {\n      node: \"node\",\n      root: \"root\",\n      first: \"first\",\n      last: \"last\"\n    },\n    attrs: _c0,\n    decls: 1,\n    vars: 1,\n    consts: [[4, \"ngIf\"], [3, \"ngClass\", \"click\"], [\"tabindex\", \"0\", \"class\", \"p-node-toggler\", 3, \"click\", \"keydown.enter\", 4, \"ngIf\"], [1, \"p-organizationchart-lines\", 3, \"ngClass\"], [1, \"p-organizationchart-line-down\"], [1, \"p-organizationchart-nodes\", 3, \"ngClass\"], [\"colspan\", \"2\", 4, \"ngFor\", \"ngForOf\"], [4, \"ngTemplateOutlet\", \"ngTemplateOutletContext\"], [\"tabindex\", \"0\", 1, \"p-node-toggler\", 3, \"click\", \"keydown.enter\"], [1, \"p-node-toggler-icon\", \"pi\", 3, \"ngClass\"], [\"ngFor\", \"\", 3, \"ngForOf\"], [1, \"p-organizationchart-line-left\", 3, \"ngClass\"], [1, \"p-organizationchart-line-right\", 3, \"ngClass\"], [\"colspan\", \"2\"], [\"pOrganizationChartNode\", \"\", 1, \"p-organizationchart-table\", 3, \"node\"]],\n    template: function OrganizationChartNode_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, OrganizationChartNode_tbody_0_Template, 15, 20, \"tbody\", 0);\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", ctx.node);\n      }\n    },\n    dependencies: [i1.NgClass, i1.NgForOf, i1.NgIf, i1.NgTemplateOutlet, OrganizationChartNode],\n    styles: [\".p-organizationchart-table{border-spacing:0;border-collapse:separate;margin:0 auto}.p-organizationchart-table>tbody>tr>td{text-align:center;vertical-align:top;padding:0 .75rem}.p-organizationchart-node-content{display:inline-block;position:relative}.p-organizationchart-node-content .p-node-toggler{position:absolute;bottom:-.75rem;margin-left:-.75rem;z-index:2;left:50%;-webkit-user-select:none;user-select:none;cursor:pointer;width:1.5rem;height:1.5rem}.p-organizationchart-node-content .p-node-toggler .p-node-toggler-icon{position:relative;top:.25rem}.p-organizationchart-line-down{margin:0 auto;height:20px;width:1px}.p-organizationchart-line-right,.p-organizationchart-line-left{border-radius:0}.p-organizationchart-selectable-node{cursor:pointer}.p-organizationchart .p-organizationchart-node-hidden{display:none}.p-organizationchart-preservespace .p-organizationchart-node-hidden{visibility:hidden;display:inherit}\\n\"],\n    encapsulation: 2,\n    data: {\n      animation: [trigger('childState', [state('in', style({\n        opacity: 1\n      })), transition('void => *', [style({\n        opacity: 0\n      }), animate(150)]), transition('* => void', [animate(150, style({\n        opacity: 0\n      }))])])]\n    },\n    changeDetection: 0\n  });\n  return OrganizationChartNode;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet OrganizationChart = /*#__PURE__*/(() => {\n  class OrganizationChart {\n    constructor(el, cd) {\n      this.el = el;\n      this.cd = cd;\n      this.preserveSpace = true;\n      this.selectionChange = new EventEmitter();\n      this.onNodeSelect = new EventEmitter();\n      this.onNodeUnselect = new EventEmitter();\n      this.onNodeExpand = new EventEmitter();\n      this.onNodeCollapse = new EventEmitter();\n      this.selectionSource = new Subject();\n      this.selectionSource$ = this.selectionSource.asObservable();\n    }\n    get selection() {\n      return this._selection;\n    }\n    set selection(val) {\n      this._selection = val;\n      if (this.initialized) this.selectionSource.next(null);\n    }\n    get root() {\n      return this.value && this.value.length ? this.value[0] : null;\n    }\n    ngAfterContentInit() {\n      if (this.templates.length) {\n        this.templateMap = {};\n      }\n      this.templates.forEach(item => {\n        this.templateMap[item.getType()] = item.template;\n      });\n      this.initialized = true;\n    }\n    getTemplateForNode(node) {\n      if (this.templateMap) return node.type ? this.templateMap[node.type] : this.templateMap['default'];else return null;\n    }\n    onNodeClick(event, node) {\n      let eventTarget = event.target;\n      if (eventTarget.className && (eventTarget.className.indexOf('p-node-toggler') !== -1 || eventTarget.className.indexOf('p-node-toggler-icon') !== -1)) {\n        return;\n      } else if (this.selectionMode) {\n        if (node.selectable === false) {\n          return;\n        }\n        let index = this.findIndexInSelection(node);\n        let selected = index >= 0;\n        if (this.selectionMode === 'single') {\n          if (selected) {\n            this.selection = null;\n            this.onNodeUnselect.emit({\n              originalEvent: event,\n              node: node\n            });\n          } else {\n            this.selection = node;\n            this.onNodeSelect.emit({\n              originalEvent: event,\n              node: node\n            });\n          }\n        } else if (this.selectionMode === 'multiple') {\n          if (selected) {\n            this.selection = this.selection.filter((val, i) => i != index);\n            this.onNodeUnselect.emit({\n              originalEvent: event,\n              node: node\n            });\n          } else {\n            this.selection = [...(this.selection || []), node];\n            this.onNodeSelect.emit({\n              originalEvent: event,\n              node: node\n            });\n          }\n        }\n        this.selectionChange.emit(this.selection);\n        this.selectionSource.next(null);\n      }\n    }\n    findIndexInSelection(node) {\n      let index = -1;\n      if (this.selectionMode && this.selection) {\n        if (this.selectionMode === 'single') {\n          index = this.selection == node ? 0 : -1;\n        } else if (this.selectionMode === 'multiple') {\n          for (let i = 0; i < this.selection.length; i++) {\n            if (this.selection[i] == node) {\n              index = i;\n              break;\n            }\n          }\n        }\n      }\n      return index;\n    }\n    isSelected(node) {\n      return this.findIndexInSelection(node) != -1;\n    }\n  }\n  OrganizationChart.ɵfac = function OrganizationChart_Factory(t) {\n    return new (t || OrganizationChart)(i0.ɵɵdirectiveInject(i0.ElementRef), i0.ɵɵdirectiveInject(i0.ChangeDetectorRef));\n  };\n  OrganizationChart.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: OrganizationChart,\n    selectors: [[\"p-organizationChart\"]],\n    contentQueries: function OrganizationChart_ContentQueries(rf, ctx, dirIndex) {\n      if (rf & 1) {\n        i0.ɵɵcontentQuery(dirIndex, PrimeTemplate, 4);\n      }\n      if (rf & 2) {\n        let _t;\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.templates = _t);\n      }\n    },\n    hostAttrs: [1, \"p-element\"],\n    inputs: {\n      value: \"value\",\n      style: \"style\",\n      styleClass: \"styleClass\",\n      selectionMode: \"selectionMode\",\n      preserveSpace: \"preserveSpace\",\n      selection: \"selection\"\n    },\n    outputs: {\n      selectionChange: \"selectionChange\",\n      onNodeSelect: \"onNodeSelect\",\n      onNodeUnselect: \"onNodeUnselect\",\n      onNodeExpand: \"onNodeExpand\",\n      onNodeCollapse: \"onNodeCollapse\"\n    },\n    decls: 2,\n    vars: 7,\n    consts: [[3, \"ngStyle\", \"ngClass\"], [\"class\", \"p-organizationchart-table\", \"pOrganizationChartNode\", \"\", 3, \"node\", 4, \"ngIf\"], [\"pOrganizationChartNode\", \"\", 1, \"p-organizationchart-table\", 3, \"node\"]],\n    template: function OrganizationChart_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵtemplate(1, OrganizationChart_table_1_Template, 1, 1, \"table\", 1);\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        i0.ɵɵclassMap(ctx.styleClass);\n        i0.ɵɵproperty(\"ngStyle\", ctx.style)(\"ngClass\", i0.ɵɵpureFunction1(5, _c5, ctx.preserveSpace));\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.root);\n      }\n    },\n    dependencies: [i1.NgClass, i1.NgIf, i1.NgStyle, OrganizationChartNode],\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  return OrganizationChart;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet OrganizationChartModule = /*#__PURE__*/(() => {\n  class OrganizationChartModule {}\n  OrganizationChartModule.ɵfac = function OrganizationChartModule_Factory(t) {\n    return new (t || OrganizationChartModule)();\n  };\n  OrganizationChartModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: OrganizationChartModule\n  });\n  OrganizationChartModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    imports: [CommonModule, SharedModule]\n  });\n  return OrganizationChartModule;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { OrganizationChart, OrganizationChartModule, OrganizationChartNode };\n//# sourceMappingURL=primeng-organizationchart.mjs.map\n//# sourceMappingURL=primeng-organizationchart.mjs.map","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}