{"ast":null,"code":"import { NavigationEnd } from '@angular/router';\nimport { animate, state, style, transition, trigger } from '@angular/animations';\nimport { filter } from 'rxjs/operators';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./app.main.component\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"./app.menu.service\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"primeng/ripple\";\nconst _c0 = [\"app-menuitem\", \"\"];\nfunction AppMenuitemComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"span\", 4);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r0.item.label);\n  }\n}\nfunction AppMenuitemComponent_a_2_i_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"i\", 8);\n  }\n}\nfunction AppMenuitemComponent_a_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"a\", 5);\n    i0.ɵɵlistener(\"click\", function AppMenuitemComponent_a_2_Template_a_click_0_listener($event) {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.itemClick($event));\n    })(\"keydown.enter\", function AppMenuitemComponent_a_2_Template_a_keydown_enter_0_listener($event) {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r8 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r8.itemClick($event));\n    })(\"mouseenter\", function AppMenuitemComponent_a_2_Template_a_mouseenter_0_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r9 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r9.onMouseEnter());\n    });\n    i0.ɵɵelement(1, \"i\", 6);\n    i0.ɵɵelementStart(2, \"span\", 4);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(4, AppMenuitemComponent_a_2_i_4_Template, 1, 0, \"i\", 7);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"ngClass\", ctx_r1.item.class);\n    i0.ɵɵattribute(\"href\", ctx_r1.item.url, i0.ɵɵsanitizeUrl)(\"target\", ctx_r1.item.target)(\"tabindex\", 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngClass\", ctx_r1.item.icon);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r1.item.label);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.item.items);\n  }\n}\nfunction AppMenuitemComponent_a_3_i_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"i\", 8);\n  }\n}\nconst _c1 = function (a0) {\n  return {\n    exact: a0\n  };\n};\nfunction AppMenuitemComponent_a_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r12 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"a\", 9);\n    i0.ɵɵlistener(\"click\", function AppMenuitemComponent_a_3_Template_a_click_0_listener($event) {\n      i0.ɵɵrestoreView(_r12);\n      const ctx_r11 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r11.itemClick($event));\n    })(\"mouseenter\", function AppMenuitemComponent_a_3_Template_a_mouseenter_0_listener() {\n      i0.ɵɵrestoreView(_r12);\n      const ctx_r13 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r13.onMouseEnter());\n    });\n    i0.ɵɵelement(1, \"i\", 6);\n    i0.ɵɵelementStart(2, \"span\", 4);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(4, AppMenuitemComponent_a_3_i_4_Template, 1, 0, \"i\", 7);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"routerLink\", ctx_r2.item.routerLink)(\"routerLinkActiveOptions\", i0.ɵɵpureFunction1(8, _c1, !ctx_r2.item.preventExact))(\"ngClass\", ctx_r2.item.class);\n    i0.ɵɵattribute(\"target\", ctx_r2.item.target)(\"tabindex\", 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngClass\", ctx_r2.item.icon);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r2.item.label);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.item.items);\n  }\n}\nfunction AppMenuitemComponent_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 10);\n    i0.ɵɵelement(1, \"div\", 11);\n    i0.ɵɵelementStart(2, \"div\", 12);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ctx_r3.item.label);\n  }\n}\nfunction AppMenuitemComponent_ul_5_ng_template_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"li\", 14);\n  }\n  if (rf & 2) {\n    const child_r15 = ctx.$implicit;\n    const i_r16 = ctx.index;\n    const ctx_r14 = i0.ɵɵnextContext(2);\n    i0.ɵɵclassMap(child_r15.badgeClass);\n    i0.ɵɵproperty(\"item\", child_r15)(\"index\", i_r16)(\"parentKey\", ctx_r14.key);\n  }\n}\nfunction AppMenuitemComponent_ul_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ul\");\n    i0.ɵɵtemplate(1, AppMenuitemComponent_ul_5_ng_template_1_Template, 1, 5, \"ng-template\", 13);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"@children\", ctx_r4.root ? \"visible\" : ctx_r4.active ? \"visibleAnimated\" : \"hiddenAnimated\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r4.item.items);\n  }\n}\nexport let AppMenuitemComponent = /*#__PURE__*/(() => {\n  class AppMenuitemComponent {\n    constructor(app, router, cd, menuService) {\n      this.app = app;\n      this.router = router;\n      this.cd = cd;\n      this.menuService = menuService;\n      this.active = false;\n      this.menuSourceSubscription = this.menuService.menuSource$.subscribe(key => {\n        // deactivate current active menu\n        if (this.active && this.key !== key && key.indexOf(this.key) !== 0) {\n          this.active = false;\n        }\n      });\n      this.menuResetSubscription = this.menuService.resetSource$.subscribe(() => {\n        this.active = false;\n      });\n      this.router.events.pipe(filter(event => event instanceof NavigationEnd)).subscribe(params => {\n        if (this.app.isHorizontal()) {\n          this.active = false;\n        } else {\n          if (this.item.routerLink) {\n            this.updateActiveStateFromRoute();\n          } else {\n            this.active = false;\n          }\n        }\n      });\n    }\n    ngOnInit() {\n      if (!this.app.isHorizontal() && this.item.routerLink) {\n        this.updateActiveStateFromRoute();\n      }\n      this.key = this.parentKey ? this.parentKey + '-' + this.index : String(this.index);\n    }\n    updateActiveStateFromRoute() {\n      this.active = this.router.isActive(this.item.routerLink[0], !this.item.items && !this.item.preventExact);\n    }\n    itemClick(event) {\n      // avoid processing disabled items\n      if (this.item.disabled) {\n        event.preventDefault();\n        return;\n      }\n      // navigate with hover in horizontal mode\n      if (this.root) {\n        this.app.menuHoverActive = !this.app.menuHoverActive;\n      }\n      // notify other items\n      this.menuService.onMenuStateChange(this.key);\n      // execute command\n      if (this.item.command) {\n        this.item.command({\n          originalEvent: event,\n          item: this.item\n        });\n      }\n      // toggle active state\n      if (this.item.items) {\n        this.active = !this.active;\n      } else {\n        // activate item\n        this.active = true;\n        // reset horizontal menu\n        if (this.app.isHorizontal()) {\n          this.menuService.reset();\n          this.app.menuHoverActive = false;\n        }\n        this.app.overlayMenuActive = false;\n        this.app.staticMenuMobileActive = false;\n      }\n    }\n    onMouseEnter() {\n      // activate item on hover\n      if (this.root && this.app.isHorizontal() && this.app.isDesktop()) {\n        if (this.app.menuHoverActive) {\n          this.menuService.onMenuStateChange(this.key);\n          this.active = true;\n        }\n      }\n    }\n    ngOnDestroy() {\n      if (this.menuSourceSubscription) {\n        this.menuSourceSubscription.unsubscribe();\n      }\n      if (this.menuResetSubscription) {\n        this.menuResetSubscription.unsubscribe();\n      }\n    }\n  }\n  AppMenuitemComponent.ɵfac = function AppMenuitemComponent_Factory(t) {\n    return new (t || AppMenuitemComponent)(i0.ɵɵdirectiveInject(i1.AppMainComponent), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i0.ChangeDetectorRef), i0.ɵɵdirectiveInject(i3.MenuService));\n  };\n  AppMenuitemComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: AppMenuitemComponent,\n    selectors: [[\"\", \"app-menuitem\", \"\"]],\n    hostVars: 4,\n    hostBindings: function AppMenuitemComponent_HostBindings(rf, ctx) {\n      if (rf & 2) {\n        i0.ɵɵclassProp(\"layout-root-menuitem\", ctx.root || ctx.active)(\"active-menuitem\", ctx.active);\n      }\n    },\n    inputs: {\n      item: \"item\",\n      index: \"index\",\n      root: \"root\",\n      parentKey: \"parentKey\"\n    },\n    attrs: _c0,\n    decls: 6,\n    vars: 5,\n    consts: [[4, \"ngIf\"], [\"pRipple\", \"\", 3, \"ngClass\", \"click\", \"keydown.enter\", \"mouseenter\", 4, \"ngIf\"], [\"routerLinkActive\", \"active-menuitem-routerlink\", \"pRipple\", \"\", 3, \"routerLink\", \"routerLinkActiveOptions\", \"ngClass\", \"click\", \"mouseenter\", 4, \"ngIf\"], [\"class\", \"layout-menu-tooltip\", 4, \"ngIf\"], [1, \"layout-menuitem-text\"], [\"pRipple\", \"\", 3, \"ngClass\", \"click\", \"keydown.enter\", \"mouseenter\"], [1, \"layout-menuitem-icon\", 3, \"ngClass\"], [\"class\", \"pi pi-fw pi-angle-down layout-submenu-toggler\", 4, \"ngIf\"], [1, \"pi\", \"pi-fw\", \"pi-angle-down\", \"layout-submenu-toggler\"], [\"routerLinkActive\", \"active-menuitem-routerlink\", \"pRipple\", \"\", 3, \"routerLink\", \"routerLinkActiveOptions\", \"ngClass\", \"click\", \"mouseenter\"], [1, \"layout-menu-tooltip\"], [1, \"layout-menu-tooltip-arrow\"], [1, \"layout-menu-tooltip-text\"], [\"ngFor\", \"\", 3, \"ngForOf\"], [\"app-menuitem\", \"\", 3, \"item\", \"index\", \"parentKey\"]],\n    template: function AppMenuitemComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementContainerStart(0);\n        i0.ɵɵtemplate(1, AppMenuitemComponent_div_1_Template, 3, 1, \"div\", 0);\n        i0.ɵɵtemplate(2, AppMenuitemComponent_a_2_Template, 5, 7, \"a\", 1);\n        i0.ɵɵtemplate(3, AppMenuitemComponent_a_3_Template, 5, 10, \"a\", 2);\n        i0.ɵɵtemplate(4, AppMenuitemComponent_div_4_Template, 4, 1, \"div\", 3);\n        i0.ɵɵtemplate(5, AppMenuitemComponent_ul_5_Template, 2, 2, \"ul\", 0);\n        i0.ɵɵelementContainerEnd();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.root && ctx.item.visible !== false);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", (!ctx.item.routerLink || ctx.item.items) && ctx.item.visible !== false);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.item.routerLink && !ctx.item.items && ctx.item.visible !== false);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.item.visible !== false);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", (ctx.item.items && ctx.root || ctx.item.items && ctx.active) && ctx.item.visible !== false);\n      }\n    },\n    dependencies: [i4.NgClass, i4.NgForOf, i4.NgIf, i2.RouterLink, i2.RouterLinkActive, i5.Ripple, AppMenuitemComponent],\n    encapsulation: 2,\n    data: {\n      animation: [trigger('children', [state('void', style({\n        height: '0px',\n        padding: '0px'\n      })), state('hiddenAnimated', style({\n        height: '0px',\n        padding: '0px'\n      })), state('visibleAnimated', style({\n        height: '*'\n      })), state('visible', style({\n        height: '*'\n      })), state('hidden', style({\n        height: '0px',\n        padding: '0px'\n      })), transition('visibleAnimated => hiddenAnimated', animate('400ms cubic-bezier(0.86, 0, 0.07, 1)')), transition('hiddenAnimated => visibleAnimated', animate('400ms cubic-bezier(0.86, 0, 0.07, 1)')), transition('void => visibleAnimated, visibleAnimated => void', animate('400ms cubic-bezier(0.86, 0, 0.07, 1)'))])]\n    }\n  });\n  return AppMenuitemComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}