{"ast":null,"code":"import * as i0 from '@angular/core';\nimport { Component, ChangeDetectionStrategy, ViewEncapsulation, Input, NgModule } from '@angular/core';\nimport * as i2 from '@angular/common';\nimport { CommonModule } from '@angular/common';\nimport { trigger, state, style, transition, animate } from '@angular/animations';\nimport { DomHandler } from 'primeng/dom';\nimport { ZIndexUtils } from 'primeng/utils';\nimport * as i1 from 'primeng/api';\nconst _c0 = function (a0, a1) {\n  return {\n    showTransitionParams: a0,\n    hideTransitionParams: a1\n  };\n};\nconst _c1 = function (a1) {\n  return {\n    value: \"open\",\n    params: a1\n  };\n};\nfunction ScrollTop_button_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r2 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 1);\n    i0.ɵɵlistener(\"@animation.start\", function ScrollTop_button_0_Template_button_animation_animation_start_0_listener($event) {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.onEnter($event));\n    })(\"@animation.done\", function ScrollTop_button_0_Template_button_animation_animation_done_0_listener($event) {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.onLeave($event));\n    })(\"click\", function ScrollTop_button_0_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.onClick());\n    });\n    i0.ɵɵelement(1, \"span\", 2);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵclassMap(ctx_r0.styleClass);\n    i0.ɵɵproperty(\"@animation\", i0.ɵɵpureFunction1(11, _c1, i0.ɵɵpureFunction2(8, _c0, ctx_r0.showTransitionOptions, ctx_r0.hideTransitionOptions)))(\"ngClass\", ctx_r0.containerClass())(\"ngStyle\", ctx_r0.style);\n    i0.ɵɵadvance(1);\n    i0.ɵɵclassMap(ctx_r0.icon);\n    i0.ɵɵproperty(\"ngClass\", \"p-scrolltop-icon\");\n  }\n}\nlet ScrollTop = /*#__PURE__*/(() => {\n  class ScrollTop {\n    constructor(el, cd, config) {\n      this.el = el;\n      this.cd = cd;\n      this.config = config;\n      this.target = 'window';\n      this.threshold = 400;\n      this.icon = 'pi pi-chevron-up';\n      this.behavior = 'smooth';\n      this.showTransitionOptions = '.15s';\n      this.hideTransitionOptions = '.15s';\n      this.visible = false;\n    }\n    ngOnInit() {\n      if (this.target === 'window') this.bindDocumentScrollListener();else if (this.target === 'parent') this.bindParentScrollListener();\n    }\n    onClick() {\n      let scrollElement = this.target === 'window' ? window : this.el.nativeElement.parentElement;\n      scrollElement.scroll({\n        top: 0,\n        behavior: this.behavior\n      });\n    }\n    onEnter(event) {\n      switch (event.toState) {\n        case 'open':\n          this.overlay = event.element;\n          ZIndexUtils.set('overlay', this.overlay, this.config.zIndex.overlay);\n          break;\n        case 'void':\n          this.overlay = null;\n          break;\n      }\n    }\n    onLeave(event) {\n      switch (event.toState) {\n        case 'void':\n          ZIndexUtils.clear(event.element);\n          break;\n      }\n    }\n    checkVisibility(scrollY) {\n      if (scrollY > this.threshold) this.visible = true;else this.visible = false;\n      this.cd.markForCheck();\n    }\n    bindParentScrollListener() {\n      this.scrollListener = () => {\n        this.checkVisibility(this.el.nativeElement.parentElement.scrollTop);\n      };\n      this.el.nativeElement.parentElement.addEventListener('scroll', this.scrollListener);\n    }\n    bindDocumentScrollListener() {\n      this.scrollListener = () => {\n        this.checkVisibility(DomHandler.getWindowScrollTop());\n      };\n      window.addEventListener('scroll', this.scrollListener);\n    }\n    unbindParentScrollListener() {\n      if (this.scrollListener) {\n        this.el.nativeElement.parentElement.removeEventListener('scroll', this.scrollListener);\n        this.scrollListener = null;\n      }\n    }\n    unbindDocumentScrollListener() {\n      if (this.scrollListener) {\n        window.removeEventListener('scroll', this.scrollListener);\n        this.scrollListener = null;\n      }\n    }\n    containerClass() {\n      return {\n        'p-scrolltop p-link p-component': true,\n        'p-scrolltop-sticky': this.target !== 'window'\n      };\n    }\n    ngOnDestroy() {\n      if (this.target === 'window') this.unbindDocumentScrollListener();else if (this.target === 'parent') this.unbindParentScrollListener();\n      if (this.overlay) {\n        ZIndexUtils.clear(this.overlay);\n        this.overlay = null;\n      }\n    }\n  }\n  ScrollTop.ɵfac = function ScrollTop_Factory(t) {\n    return new (t || ScrollTop)(i0.ɵɵdirectiveInject(i0.ElementRef), i0.ɵɵdirectiveInject(i0.ChangeDetectorRef), i0.ɵɵdirectiveInject(i1.PrimeNGConfig));\n  };\n  ScrollTop.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: ScrollTop,\n    selectors: [[\"p-scrollTop\"]],\n    hostAttrs: [1, \"p-element\"],\n    inputs: {\n      styleClass: \"styleClass\",\n      style: \"style\",\n      target: \"target\",\n      threshold: \"threshold\",\n      icon: \"icon\",\n      behavior: \"behavior\",\n      showTransitionOptions: \"showTransitionOptions\",\n      hideTransitionOptions: \"hideTransitionOptions\"\n    },\n    decls: 1,\n    vars: 1,\n    consts: [[\"type\", \"button\", 3, \"ngClass\", \"class\", \"ngStyle\", \"click\", 4, \"ngIf\"], [\"type\", \"button\", 3, \"ngClass\", \"ngStyle\", \"click\"], [3, \"ngClass\"]],\n    template: function ScrollTop_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, ScrollTop_button_0_Template, 2, 13, \"button\", 0);\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", ctx.visible);\n      }\n    },\n    dependencies: [i2.NgClass, i2.NgIf, i2.NgStyle],\n    styles: [\".p-scrolltop{position:fixed;bottom:20px;right:20px;display:flex;align-items:center;justify-content:center}.p-scrolltop-sticky{position:sticky}.p-scrolltop-sticky.p-link{margin-left:auto}\\n\"],\n    encapsulation: 2,\n    data: {\n      animation: [trigger('animation', [state('void', style({\n        opacity: 0\n      })), state('open', style({\n        opacity: 1\n      })), transition('void => open', animate('{{showTransitionParams}}')), transition('open => void', animate('{{hideTransitionParams}}'))])]\n    },\n    changeDetection: 0\n  });\n  return ScrollTop;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet ScrollTopModule = /*#__PURE__*/(() => {\n  class ScrollTopModule {}\n  ScrollTopModule.ɵfac = function ScrollTopModule_Factory(t) {\n    return new (t || ScrollTopModule)();\n  };\n  ScrollTopModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: ScrollTopModule\n  });\n  ScrollTopModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    imports: [CommonModule]\n  });\n  return ScrollTopModule;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { ScrollTop, ScrollTopModule };\n//# sourceMappingURL=primeng-scrolltop.mjs.map\n//# sourceMappingURL=primeng-scrolltop.mjs.map","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}