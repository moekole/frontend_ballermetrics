{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"./ballerservice.service\";\nexport class BallerguardGuard {\n  constructor(r, authservice) {\n    this.r = r;\n    this.authservice = authservice;\n  }\n  canActivate(route, state) {\n    if (this.authservice.isTokenEmpty()) {\n      this.r.navigateByUrl('login');\n      return false;\n    } else {\n      if (this.authservice.isAuthenticatedRefreshtokenToken()) {\n        if (this.authservice.isAuthenticatedAccessToken()) {\n          return true;\n        } else {\n          this.authservice.refreshToken();\n          return true;\n        }\n      } else {\n        this.r.navigateByUrl('login');\n        return false;\n      }\n    }\n    //this.r.navigateByUrl('login');\n    //thsi.b2bservice isauthenticate\n    return true;\n  }\n}\nBallerguardGuard.ɵfac = function BallerguardGuard_Factory(t) {\n  return new (t || BallerguardGuard)(i0.ɵɵinject(i1.Router), i0.ɵɵinject(i2.BallerserviceService));\n};\nBallerguardGuard.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: BallerguardGuard,\n  factory: BallerguardGuard.ɵfac,\n  providedIn: 'root'\n});","map":{"version":3,"mappings":";;;AASA,OAAM,MAAOA,gBAAgB;EAC3BC,YAAoBC,CAAS,EAAUC,WAAiC;IAApD,MAAC,GAADD,CAAC;IAAkB,gBAAW,GAAXC,WAAW;EAElD;EAEAC,WAAW,CACTC,KAA6B,EAC7BC,KAA0B;IAGxB,IAAI,IAAI,CAACH,WAAW,CAACI,YAAY,EAAE,EAAE;MACnC,IAAI,CAACL,CAAC,CAACM,aAAa,CAAC,OAAO,CAAC;MAC7B,OAAO,KAAK;KACb,MACI;MACH,IAAI,IAAI,CAACL,WAAW,CAACM,gCAAgC,EAAE,EAAE;QACvD,IAAI,IAAI,CAACN,WAAW,CAACO,0BAA0B,EAAE,EAAE;UACjD,OAAO,IAAI;SACZ,MACI;UACH,IAAI,CAACP,WAAW,CAACQ,YAAY,EAAE;UAC/B,OAAO,IAAI;;OAEd,MACI;QACH,IAAI,CAACT,CAAC,CAACM,aAAa,CAAC,OAAO,CAAC;QAC7B,OAAO,KAAK;;;IAgBhB;IACA;IACA,OAAO,IAAI;EAEb;;;mBA9CSR,gBAAgB;AAAA;;SAAhBA,gBAAgB;EAAAY,SAAhBZ,gBAAgB;EAAAa,YAFf;AAAM","names":["BallerguardGuard","constructor","r","authservice","canActivate","route","state","isTokenEmpty","navigateByUrl","isAuthenticatedRefreshtokenToken","isAuthenticatedAccessToken","refreshToken","factory","providedIn"],"sourceRoot":"","sources":["/Users/moe/Documents/syp 5.klasse/frontend_ballermetrics/src/app/auth/ballerguard.guard.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport { ActivatedRouteSnapshot, CanActivate, RouterStateSnapshot, UrlTree, Router } from '@angular/router';\nimport { Observable } from 'rxjs';\nimport { BallerserviceService } from './ballerservice.service';\n\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class BallerguardGuard implements CanActivate {\n  constructor(private r: Router, private authservice: BallerserviceService) {\n\n  }\n\n  canActivate(\n    route: ActivatedRouteSnapshot,\n    state: RouterStateSnapshot): Observable<boolean | UrlTree> | Promise<boolean | UrlTree> | boolean | UrlTree {\n      \n      \n      if (this.authservice.isTokenEmpty()) {\n        this.r.navigateByUrl('login');\n        return false;\n      }\n      else {\n        if (this.authservice.isAuthenticatedRefreshtokenToken()) {\n          if (this.authservice.isAuthenticatedAccessToken()) {\n            return true;\n          }\n          else {\n            this.authservice.refreshToken();\n            return true;\n          }\n        }\n        else {\n          this.r.navigateByUrl('login');\n          return false;\n  \n        }\n      }\n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n      //this.r.navigateByUrl('login');\n      //thsi.b2bservice isauthenticate\n      return true;\n  \n    }\n  }\n  \n\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}